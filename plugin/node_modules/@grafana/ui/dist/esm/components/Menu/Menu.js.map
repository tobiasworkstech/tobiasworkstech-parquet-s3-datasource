{"version":3,"file":"Menu.js","sources":["../../../../src/components/Menu/Menu.tsx"],"sourcesContent":["import { css, cx } from '@emotion/css';\nimport React, { useImperativeHandle, useRef } from 'react';\n\nimport { GrafanaTheme2 } from '@grafana/data';\n\nimport { useStyles2 } from '../../themes';\n\nimport { MenuDivider } from './MenuDivider';\nimport { MenuGroup } from './MenuGroup';\nimport { MenuItem } from './MenuItem';\nimport { useMenuFocus } from './hooks';\n\nexport interface MenuProps extends React.HTMLAttributes<HTMLDivElement> {\n  /** React element rendered at the top of the menu */\n  header?: React.ReactNode;\n  children: React.ReactNode;\n  ariaLabel?: string;\n  onOpen?: (focusOnItem: (itemId: number) => void) => void;\n  onClose?: () => void;\n  onKeyDown?: React.KeyboardEventHandler;\n}\n\nconst MenuComp = React.forwardRef<HTMLDivElement, MenuProps>(\n  ({ header, children, ariaLabel, onOpen, onClose, onKeyDown, ...otherProps }, forwardedRef) => {\n    const styles = useStyles2(getStyles);\n\n    const localRef = useRef<HTMLDivElement>(null);\n    useImperativeHandle(forwardedRef, () => localRef.current!);\n\n    const [handleKeys] = useMenuFocus({ localRef, onOpen, onClose, onKeyDown });\n\n    return (\n      <div\n        {...otherProps}\n        tabIndex={-1}\n        ref={localRef}\n        className={styles.wrapper}\n        role=\"menu\"\n        aria-label={ariaLabel}\n        onKeyDown={handleKeys}\n      >\n        {header && (\n          <div\n            className={cx(\n              styles.header,\n              Boolean(children) && React.Children.toArray(children).length > 0 && styles.headerBorder\n            )}\n          >\n            {header}\n          </div>\n        )}\n        {children}\n      </div>\n    );\n  }\n);\n\nMenuComp.displayName = 'Menu';\n\nexport const Menu = Object.assign(MenuComp, {\n  Item: MenuItem,\n  Divider: MenuDivider,\n  Group: MenuGroup,\n});\n\nconst getStyles = (theme: GrafanaTheme2) => {\n  return {\n    header: css({\n      padding: `${theme.spacing(0.5, 1, 1, 1)}`,\n    }),\n    headerBorder: css({\n      borderBottom: `1px solid ${theme.colors.border.weak}`,\n    }),\n    wrapper: css({\n      background: `${theme.colors.background.primary}`,\n      boxShadow: `${theme.shadows.z3}`,\n      display: `inline-block`,\n      borderRadius: `${theme.shape.radius.default}`,\n      padding: `${theme.spacing(0.5, 0)}`,\n    }),\n  };\n};\n"],"names":["React"],"mappings":"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"}