{"version":3,"file":"ArrayVector.js","sources":["../../../src/vector/ArrayVector.ts"],"sourcesContent":["const notice = 'ArrayVector is deprecated and will be removed in Grafana 11. Please use plain arrays for field.values.';\nlet notified = false;\n\n/**\n * @public\n *\n * @deprecated use a simple Array<T>\n */\nexport class ArrayVector<T = any> extends Array<T> {\n  get buffer() {\n    return this;\n  }\n\n  set buffer(values: any[]) {\n    this.length = 0;\n\n    const len = values?.length;\n\n    if (len) {\n      let chonkSize = 65e3;\n      let numChonks = Math.ceil(len / chonkSize);\n\n      for (let chonkIdx = 0; chonkIdx < numChonks; chonkIdx++) {\n        this.push.apply(this, values.slice(chonkIdx * chonkSize, (chonkIdx + 1) * chonkSize));\n      }\n    }\n  }\n\n  /**\n   * This any type is here to make the change type changes in v10 non breaking for plugins.\n   * Before you could technically assign field.values any typed ArrayVector no matter what the Field<T> T type was.\n   */\n  constructor(buffer?: any[]) {\n    super();\n    this.buffer = buffer ?? [];\n\n    if (!notified) {\n      console.warn(notice);\n      notified = true;\n    }\n  }\n\n  toJSON(): T[] {\n    return [...this]; // copy to avoid circular reference (only for jest)\n  }\n}\n"],"names":[],"mappings":"AAAA,MAAM,MAAS,GAAA,wGAAA,CAAA;AACf,IAAI,QAAW,GAAA,KAAA,CAAA;AAOR,MAAM,oBAA6B,KAAS,CAAA;AAAA,EACjD,IAAI,MAAS,GAAA;AACX,IAAO,OAAA,IAAA,CAAA;AAAA,GACT;AAAA,EAEA,IAAI,OAAO,MAAe,EAAA;AACxB,IAAA,IAAA,CAAK,MAAS,GAAA,CAAA,CAAA;AAEd,IAAA,MAAM,MAAM,MAAQ,IAAA,IAAA,GAAA,KAAA,CAAA,GAAA,MAAA,CAAA,MAAA,CAAA;AAEpB,IAAA,IAAI,GAAK,EAAA;AACP,MAAA,IAAI,SAAY,GAAA,IAAA,CAAA;AAChB,MAAA,IAAI,SAAY,GAAA,IAAA,CAAK,IAAK,CAAA,GAAA,GAAM,SAAS,CAAA,CAAA;AAEzC,MAAA,KAAA,IAAS,QAAW,GAAA,CAAA,EAAG,QAAW,GAAA,SAAA,EAAW,QAAY,EAAA,EAAA;AACvD,QAAK,IAAA,CAAA,IAAA,CAAK,KAAM,CAAA,IAAA,EAAM,MAAO,CAAA,KAAA,CAAM,WAAW,SAAY,EAAA,CAAA,QAAA,GAAW,CAAK,IAAA,SAAS,CAAC,CAAA,CAAA;AAAA,OACtF;AAAA,KACF;AAAA,GACF;AAAA;AAAA;AAAA;AAAA;AAAA,EAMA,YAAY,MAAgB,EAAA;AAC1B,IAAM,KAAA,EAAA,CAAA;AACN,IAAK,IAAA,CAAA,MAAA,GAAS,0BAAU,EAAC,CAAA;AAEzB,IAAA,IAAI,CAAC,QAAU,EAAA;AACb,MAAA,OAAA,CAAQ,KAAK,MAAM,CAAA,CAAA;AACnB,MAAW,QAAA,GAAA,IAAA,CAAA;AAAA,KACb;AAAA,GACF;AAAA,EAEA,MAAc,GAAA;AACZ,IAAO,OAAA,CAAC,GAAG,IAAI,CAAA,CAAA;AAAA,GACjB;AACF;;;;"}