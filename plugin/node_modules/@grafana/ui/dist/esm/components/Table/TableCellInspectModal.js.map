{"version":3,"file":"TableCellInspectModal.js","sources":["../../../../src/components/Table/TableCellInspectModal.tsx"],"sourcesContent":["import { isString } from 'lodash';\nimport React from 'react';\n\nimport { ClipboardButton } from '../ClipboardButton/ClipboardButton';\nimport { Modal } from '../Modal/Modal';\nimport { CodeEditor } from '../Monaco/CodeEditor';\n\ninterface TableCellInspectModalProps {\n  value: any;\n  onDismiss: () => void;\n  mode: 'code' | 'text';\n}\n\nexport function TableCellInspectModal({ value, onDismiss, mode }: TableCellInspectModalProps) {\n  let displayValue = value;\n  if (isString(value)) {\n    const trimmedValue = value.trim();\n    // Exclude numeric strings like '123' from being displayed in code/JSON mode\n    if (trimmedValue[0] === '{' || trimmedValue[0] === '[' || mode === 'code') {\n      try {\n        value = JSON.parse(value);\n        mode = 'code';\n      } catch {\n        mode = 'text';\n      } // ignore errors\n    } else {\n      mode = 'text';\n    }\n  } else {\n    displayValue = JSON.stringify(value, null, ' ');\n  }\n  let text = displayValue;\n\n  if (mode === 'code') {\n    text = JSON.stringify(value, null, ' ');\n  }\n\n  return (\n    <Modal onDismiss={onDismiss} isOpen={true} title=\"Inspect value\">\n      {mode === 'code' ? (\n        <CodeEditor\n          width=\"100%\"\n          height={500}\n          language=\"json\"\n          showLineNumbers={true}\n          showMiniMap={(text && text.length) > 100}\n          value={text}\n          readOnly={true}\n        />\n      ) : (\n        <pre>{text}</pre>\n      )}\n      <Modal.ButtonRow>\n        <ClipboardButton icon=\"copy\" getText={() => text}>\n          Copy to Clipboard\n        </ClipboardButton>\n      </Modal.ButtonRow>\n    </Modal>\n  );\n}\n"],"names":["React"],"mappings":";;;;;;AAaO,SAAS,qBAAsB,CAAA,EAAE,KAAO,EAAA,SAAA,EAAW,MAAoC,EAAA;AAC5F,EAAA,IAAI,YAAe,GAAA,KAAA,CAAA;AACnB,EAAI,IAAA,QAAA,CAAS,KAAK,CAAG,EAAA;AACnB,IAAM,MAAA,YAAA,GAAe,MAAM,IAAK,EAAA,CAAA;AAEhC,IAAI,IAAA,YAAA,CAAa,CAAC,CAAM,KAAA,GAAA,IAAO,aAAa,CAAC,CAAA,KAAM,GAAO,IAAA,IAAA,KAAS,MAAQ,EAAA;AACzE,MAAI,IAAA;AACF,QAAQ,KAAA,GAAA,IAAA,CAAK,MAAM,KAAK,CAAA,CAAA;AACxB,QAAO,IAAA,GAAA,MAAA,CAAA;AAAA,OACD,CAAA,OAAA,CAAA,EAAA;AACN,QAAO,IAAA,GAAA,MAAA,CAAA;AAAA,OACT;AAAA,KACK,MAAA;AACL,MAAO,IAAA,GAAA,MAAA,CAAA;AAAA,KACT;AAAA,GACK,MAAA;AACL,IAAA,YAAA,GAAe,IAAK,CAAA,SAAA,CAAU,KAAO,EAAA,IAAA,EAAM,GAAG,CAAA,CAAA;AAAA,GAChD;AACA,EAAA,IAAI,IAAO,GAAA,YAAA,CAAA;AAEX,EAAA,IAAI,SAAS,MAAQ,EAAA;AACnB,IAAA,IAAA,GAAO,IAAK,CAAA,SAAA,CAAU,KAAO,EAAA,IAAA,EAAM,GAAG,CAAA,CAAA;AAAA,GACxC;AAEA,EACE,uBAAAA,cAAA,CAAA,aAAA,CAAC,SAAM,SAAsB,EAAA,MAAA,EAAQ,MAAM,KAAM,EAAA,eAAA,EAAA,EAC9C,SAAS,MACR,mBAAAA,cAAA,CAAA,aAAA;AAAA,IAAC,UAAA;AAAA,IAAA;AAAA,MACC,KAAM,EAAA,MAAA;AAAA,MACN,MAAQ,EAAA,GAAA;AAAA,MACR,QAAS,EAAA,MAAA;AAAA,MACT,eAAiB,EAAA,IAAA;AAAA,MACjB,WAAA,EAAA,CAAc,IAAQ,IAAA,IAAA,CAAK,MAAU,IAAA,GAAA;AAAA,MACrC,KAAO,EAAA,IAAA;AAAA,MACP,QAAU,EAAA,IAAA;AAAA,KAAA;AAAA,sBAGXA,cAAA,CAAA,aAAA,CAAA,KAAA,EAAA,IAAA,EAAK,IAAK,CAEb,kBAAAA,cAAA,CAAA,aAAA,CAAC,MAAM,SAAN,EAAA,IAAA,kBACEA,cAAA,CAAA,aAAA,CAAA,eAAA,EAAA,EAAgB,MAAK,MAAO,EAAA,OAAA,EAAS,MAAM,IAAM,EAAA,EAAA,mBAElD,CACF,CACF,CAAA,CAAA;AAEJ;;;;"}